{"ast":null,"code":"import { createSlice } from \"@reduxjs/toolkit\";\nexport const slice = createSlice({\n  name: \"favourites\",\n  initialState: {\n    value: JSON.parse(window.localStorage.getItem(\"favourites\")) || []\n  },\n  reducers: {\n    toggleFavourite: (state, action) => {\n      //console.log({ state, action, value: +action.payload });\n      const hasFavourite = state.value.indexOf(+action.payload);\n      hasFavourite === -1 ? state.value.push(+action.payload) : state.value.splice(hasFavourite, 1);\n      window.localStorage.setItem(\"favourites\", JSON.stringify(state.value));\n    }\n  }\n});\nexport const selectFavourites = state => state.favourites.value;\nexport const {\n  toggleFavourite\n} = slice.actions;\nexport default slice.reducer;","map":{"version":3,"sources":["/Users/scottgemmell/Github/recipes-collector/src/features/favourites/favouritesSlice.js"],"names":["createSlice","slice","name","initialState","value","JSON","parse","window","localStorage","getItem","reducers","toggleFavourite","state","action","hasFavourite","indexOf","payload","push","splice","setItem","stringify","selectFavourites","favourites","actions","reducer"],"mappings":"AAAA,SAASA,WAAT,QAA4B,kBAA5B;AAEA,OAAO,MAAMC,KAAK,GAAGD,WAAW,CAAC;AAChCE,EAAAA,IAAI,EAAE,YAD0B;AAEhCC,EAAAA,YAAY,EAAE;AACbC,IAAAA,KAAK,EAAEC,IAAI,CAACC,KAAL,CAAWC,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,YAA5B,CAAX,KAAyD;AADnD,GAFkB;AAKhCC,EAAAA,QAAQ,EAAE;AACTC,IAAAA,eAAe,EAAE,CAACC,KAAD,EAAQC,MAAR,KAAmB;AACnC;AACA,YAAMC,YAAY,GAAGF,KAAK,CAACR,KAAN,CAAYW,OAAZ,CAAoB,CAACF,MAAM,CAACG,OAA5B,CAArB;AACAF,MAAAA,YAAY,KAAK,CAAC,CAAlB,GACGF,KAAK,CAACR,KAAN,CAAYa,IAAZ,CAAiB,CAACJ,MAAM,CAACG,OAAzB,CADH,GAEGJ,KAAK,CAACR,KAAN,CAAYc,MAAZ,CAAmBJ,YAAnB,EAAiC,CAAjC,CAFH;AAGAP,MAAAA,MAAM,CAACC,YAAP,CAAoBW,OAApB,CAA4B,YAA5B,EAA0Cd,IAAI,CAACe,SAAL,CAAeR,KAAK,CAACR,KAArB,CAA1C;AACA;AARQ;AALsB,CAAD,CAAzB;AAiBP,OAAO,MAAMiB,gBAAgB,GAAGT,KAAK,IAAIA,KAAK,CAACU,UAAN,CAAiBlB,KAAnD;AACP,OAAO,MAAM;AAAEO,EAAAA;AAAF,IAAsBV,KAAK,CAACsB,OAAlC;AAEP,eAAetB,KAAK,CAACuB,OAArB","sourcesContent":["import { createSlice } from \"@reduxjs/toolkit\";\r\n\r\nexport const slice = createSlice({\r\n\tname: \"favourites\",\r\n\tinitialState: {\r\n\t\tvalue: JSON.parse(window.localStorage.getItem(\"favourites\")) || [],\r\n\t},\r\n\treducers: {\r\n\t\ttoggleFavourite: (state, action) => {\r\n\t\t\t//console.log({ state, action, value: +action.payload });\r\n\t\t\tconst hasFavourite = state.value.indexOf(+action.payload);\r\n\t\t\thasFavourite === -1 \r\n\t\t\t\t? state.value.push(+action.payload) \r\n\t\t\t\t: state.value.splice(hasFavourite, 1);\r\n\t\t\twindow.localStorage.setItem(\"favourites\", JSON.stringify(state.value));\r\n\t\t},\r\n\t},\r\n});\r\n\r\nexport const selectFavourites = state => state.favourites.value;\r\nexport const { toggleFavourite } = slice.actions;\r\n\r\nexport default slice.reducer;\r\n"]},"metadata":{},"sourceType":"module"}